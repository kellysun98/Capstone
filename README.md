# TravelSafe - COVID-19 Interactive Navigation Tool

**Dingyuhan Wang, Yingzhi Liang, Yixin Sun, Qiaoyi Yan**

## University of Toronto
### Faculty of Applied Science and Engineering, Mechanical & Industrial Engineering
### MIE490 Capstone Design Course

## Problem Statement
During the COVID-19 pandemic, pedestrian travel within the Greater Toronto Area (GTA), whether by walking or using public transit, poses significant risks. Social-distancing and mask-covering practices aim to mitigate these risks, but the crowded nature of downtown Toronto, especially during rush hours, exacerbates the spread of the virus. Existing route-planning applications like Google Maps and OpenrouteService do not offer filtering by crowd density or infection risk, which is crucial for navigating safely during a pandemic.

Mott MacDonald Canada Limited seeks a solution that integrates geographical information systems (GIS) with machine learning and AI techniques to provide an interactive navigation tool for pedestrians and public transit riders in the GTA. This tool should take user-specified starting and ending locations and offer travel plans based on three metrics: travel time, cost, and COVID-19 exposure risk. 

### Constraints
- **Data Availability:** COVID-19 data provided by the City of Toronto is too coarse, lacking detailed indicators for specific neighborhood areas. Additional data sources must be integrated to enhance accuracy.
- **Team Communication:** Time zone differences between team members in China and Toronto complicate scheduling.
- **Skillset:** The team must acquire proficient front-end programming skills to create an engaging and user-friendly interface.

## Service Environment
The final design operates in a versatile environment to accommodate diverse user needs. Delivered as a web application, it should be compatible with both computer and phone screens and run on localhost for testing purposes. Hosting on a web server is pending due to cost constraints.

## Methodologies
The team employed iterative processes, including brainstorming and discussions with supervisors and clients, to establish design requirements and data needs. A minimum viable product (MVP) was developed, followed by several design-test-implement cycles and user studies to enhance usability.

### Tools and Technologies
#### Frontend
- **Web Application Framework:** AngularTS
- **HTTP Requests:** HTTPClient

#### Backend
- **Algorithms:** Java
- **HTTP Requests Handling:** Rest Controller
- **Map Coordinates:** Open-Street-Map API
- **Database:** POSTGRESQL

## Backend Structure
The backend, written in Java, features a modular structure with key classes:
- **DemoApplication:** Connects backend functions with the front end.
- **PSQLConnect:** Processes data from the PSQL database.
- **userPreference:** Stores user input for processing.
- **Graph:** Maps all nodes and edges from OSM data.
- **KSP:** Searches for routes.
- **Planner:** Implements search algorithms and heuristics like A* Search.
- **Path:** Represents paths generated by search algorithms.
- **MapNode:** Represents nodes in the OSM and TTC data.
- **MapEdge:** Represents connections between nodes.
- **MapRoute:** Represents types of routes between nodes.

## Frontend Structure
The frontend, built using AngularTS, consists of five components, each handling different aspects of the display. Functions are written in TypeScript, with HTML and CSS used for visualization and styling. The Spring RestController annotation creates RESTful web services, enabling data communication between frontend components and the backend.

### Components
- **app:** Displays map with routes, info boxes, and heatmaps. Handles search results from backend A-star algorithms.
- **mybar:** Side bar for walking and transit options, displaying search results.
- **startlocation:** Navigation bar for inputting start and end addresses, converting them to coordinates.
- **welcomepage:** Introductory page with user questionnaire.
- **questionnaire:** Collects user preferences and sends them to the backend.

## Installation Instructions
1. Clone the repository: `git clone <repository_url>`
2. Navigate to the project directory: `cd Capstone`
3. Install dependencies:
   - Frontend: `cd frontend` then `npm install`
   - Backend: `cd backend` then `mvn install`
4. Set up the database:
   - Ensure PostgreSQL is installed and running
   - Create the necessary databases and tables
5. Start the application:
   - Backend: `mvn spring-boot:run`
   - Frontend: `ng serve`

## Usage Instructions
1. Open a web browser and navigate to `http://localhost:4200`.
2. Use the web application to input your starting and ending locations.
3. Adjust preferences for travel time, cost, and COVID-19 risk.
4. View the suggested routes and details on the map and sidebars.

## Contributing
1. Fork the repository
2. Create a new branch (`git checkout -b feature-branch`)
3. Make your changes and commit them (`git commit -m 'Add some feature'`)
4. Push to the branch (`git push origin feature-branch`)
5. Open a Pull Request

## Acknowledgments
- Mott MacDonald Canada Limited for their support and collaboration.
- University of Toronto for providing the platform for this project.
- All users who participated in the user studies.
